jQuery.periodic=function(e,i){function r(){n(),u.tid=setTimeout(function(){i.call(u),c(),u.tid&&r()},u.cur_period)}function o(e,i){"success"===i&&t!==e.responseText&&(t=e.responseText,d())}function c(){u.cur_period*=u.decay,u.cur_period<u.period?d():u.cur_period>u.max_period&&(u.cur_period=u.max_period,void 0!==u.on_max&&u.on_max.call(u))}function d(){u.cur_period=u.period,r()}function n(){clearTimeout(u.tid),u.tid=null}jQuery.isFunction(e)&&(i=e,e={});var u=jQuery.extend({},jQuery.periodic.defaults,{ajax_complete:o,increment:c,reset:d,cancel:n},e);u.cur_period=u.period,u.tid=!1;var t="";return r(),u},jQuery.periodic.defaults={period:4e3,max_period:18e5,decay:1.5,on_max:void 0};