(function(e){var t=function(e){var t=this;if(e.isTiming){e.timeout=setTimeout(function(){n.call(t,e)},e.increment)}},n=function(n){n.count+=n.increment;n.percent=Math.round(n.count/n.duration*1e3)/1e3;if(n.onIncrement){n.onIncrement.call(this,n)}if(n.count>=n.duration){n.percent=1;if(n.onComplete){n.onComplete.call(this,n)}i.stop.call(e(this));return true}t.call(this,n)},r={methods:function(t){var n=this.filter(function(){if(e(this).data("SimpleTimer.settings")===undefined){e.error('Simple Timer Error: method "'+t+'" was '+"called on an element which has not been initialized.");return false}return true});if(n.length>0){if(r[t]){r[t].apply(n,arguments)}else{i[t].apply(n,arguments)}}return this},start:function(){var t=this.filter(function(){var t=e(this).data("SimpleTimer.settings");if(t.isTiming){return false}if(t.percent===1){return false}return true});if(t.length===0){return false}i.start.apply(t,arguments);return true},stop:function(){var t=this.filter(function(){var t=e(this).data("SimpleTimer.settings");if(!t.isTiming){return false}return true});if(t.length===0){return false}i.stop.apply(t,arguments);return true}},i={init:function(t){var n=e.extend(true,{increment:1e3,duration:1e3,autostart:false,onComplete:false,onIncrement:false,onStart:false,onStop:false,onReset:false},t,{timeout:null,count:0,percent:0,isTiming:false});return this.each(function(){e(this).data("SimpleTimer.settings",n);if(n.autostart){i.start.call(e(this))}})},start:function(){return this.each(function(){var n=e(this).data("SimpleTimer.settings");n.isTiming=true;if(n.onStart){n.onStart.call(this,n)}t.call(this,n)})},stop:function(){return this.each(function(){var t=e(this).data("SimpleTimer.settings");clearTimeout(t.timeout);t.isTiming=false;if(t.onStop){t.onStop.call(this,t)}})},reset:function(){return this.each(function(){var t=e(this).data("SimpleTimer.settings");i.stop.call(e(this));t.count=0;t.percent=0;if(t.onReset){t.onReset.call(this,t)}})},destroy:function(){return this.each(function(){i.reset.call(e(this));e(this).removeData("SimpleTimer.settings")})}};e.fn.simpleTimer=function(t){if(i[t]){return r.methods.apply(this,arguments)}else if(typeof t==="object"||!t){return i.init.apply(this,arguments)}else{e.error("Simple Timer Error: method "+t+" does not exist.")}}})(jQuery)
